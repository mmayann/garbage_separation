# 開発ルール

## ブランチ運用

### 1-1. ブランチの命名規則

- **メインブランチ**: `main`
  - 最新の統合ブランチ
  - 直接コミットせず、Pull Request (PR) を通じてのみマージする
- **開発ブランチ**: `develop`
  - 機能開発やバグ修正など、日々の開発作業を統合するためのブランチ
  - feature/* や bugfix/* などの作業ブランチは、この develop をベースに作成する
  - 作業が完了したブランチは、Pull Request を通じて develop にマージする
  - 一定の開発が進み、発表可能な状態になったらmain ブランチへマージする
- **機能開発ブランチ**: `feature/#issue番号/xxx_name` (例: `feature/#2/login_mizue`)
  - 新しい機能を開発するためのブランチ
  - `develop` ブランチから派生させる
- **バグ修正ブランチ**: `bugfix/#issue番号/xxx_name` (例: `bugfix/#2/login_mizue`)
  - 機能開発 PR のマージ後にバグがあった場合、修正を行うためのブランチ
  - `develop` ブランチから派生させる
- **ドキュメントブランチ**: `doc/xxx_name` (例: `doc/readme_mizue`)
  - ドキュメント整備のためのブランチ
  - `develop` ブランチから派生させる

### 1-2. ブランチ作成ルール

- 新しいタスクごとにブランチを作成する
- 作業終了後は、PR を通じて `develop` へマージする

## Pull Request (PR) ルール

### 2-1. ブランチ作成からマージまでのフロー

1. `develop` ブランチから `feature/#issue番号/xxx_name` や `bugfix/#issue番号/xxx_name` のブランチを切る
2. そのブランチで開発する
3. PR を作成する
4. PR をレビューする
5. PR を承認する
6. 修正がある場合は、PR コメント機能で PR 作成者に返す
7. 修正後、再度同一ブランチで commit, push すると同一 PR に自動的に追加される
8. `develop` ブランチへマージする

### 2-2. PR 記載項目

- PR テンプレート使用
- **PR タイトル**: issue 番号＋概要 (例: `#1 環境構築_フロント`)
- **記載内容**
  - やったこと
  - 確認したこと
  - 補足 (スクショなど)
  - メンバーへのメンション: プルリクが出たことの周知

### 2-3. レビュー

- 大きな変更は、細かく PR を分割する
- レビュー後の修正では再度承認を得る (2-1. の手順 5 参照)

### 2-4. マージルール

- `main` への直接マージは禁止。必ず PR を通す（保護機能を設定）
- 細かく PR とマージを行い、コンフリクトを最小化する

## コミットメッセージ規則

### 3-1. フォーマット

- 1 行目: `prefix: 概要`
- 2 行目以降: 必要に応じて詳細説明

### 3-2. prefix

- `add`：新規（ファイル）機能追加
- `fix`: バグ修正
- `update`：機能修正（バグではない）
- `docs`: ドキュメント保存・変更
- `refactor`: 既存コードの改善
- `style`: コードのフォーマット調整
- `remove`: ファイルの削除

例: `add: ログイン機能を実装`  
ユーザーがメールとパスワードでログインできる機能を実装

### 3-3. ルール

- 1 コミット = 1 つのファイル変更
- 意味のあるメッセージを記述
